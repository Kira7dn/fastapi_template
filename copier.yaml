# copier.yaml
_min_copier_version: "9.0.0" # Yêu cầu Copier 9+ để tránh cảnh báo và tương thích tốt hơn

project_name:
  type: str
  help: Tên dự án FastAPI của bạn
  default: "My Awesome FastAPI App"

author_name:
  type: str
  help: Tên của tác giả
  default: "Your Name"

install_deps:
  type: bool
  help: Có cài đặt dependencies ngay không? (pip install -r requirements.txt)
  default: true

_tasks: # Hooks để chạy lệnh sau khi sao chép (cross-platform)
  # 1) Tạo venv tại thư mục dự án mới
  - python -m venv .venv

  # 2) Cài đặt requirements bằng Python trong venv theo cách đa nền tảng
  #    Tránh dùng lệnh kích hoạt shell (source/.) để tương thích Windows và Linux/macOS
  - python -c "import os,subprocess,sys; from pathlib import Path; venv_py = Path('.venv') / ('Scripts/python.exe' if os.name=='nt' else 'bin/python'); subprocess.check_call([str(venv_py), '-m', 'pip', 'install', '-r', 'backend/requirements.txt'])"

_exclude: # Files không sao chép
  - venv/
  - .venv/
  - .git/
  - .vscode/
